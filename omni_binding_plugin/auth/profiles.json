{
  "profiles": {
    "weather-api-prod": {
      "type": "oauth2",
      "description": "Production Weather API OAuth2 credentials",
      "config_file": "oauth2/weather-api.json",
      "scopes": ["weather.read", "forecast.read"],
      "token_endpoint": "https://auth.weatherapi.com/oauth/token",
      "expires_at": "2025-12-31T23:59:59Z"
    },
    "weather-api-dev": {
      "type": "apikey",
      "description": "Development Weather API key",
      "config_file": "apikeys/weather-service.json",
      "key_location": "header",
      "key_name": "X-API-Key"
    },
    "azure-fabric-prod": {
      "type": "oauth2",
      "description": "Azure Fabric warehouse access",
      "config_file": "oauth2/azure-fabric.json",
      "scopes": ["https://analysis.windows.net/powerbi/api/.default"],
      "token_endpoint": "https://login.microsoftonline.com/{tenant}/oauth2/v2.0/token"
    },
    "mqtt-production": {
      "type": "mtls",
      "description": "Production MQTT broker mTLS certificates",
      "config_file": "certificates/mqtt-broker/config.json",
      "cert_path": "certificates/mqtt-broker/client-cert.pem",
      "key_path": "certificates/mqtt-broker/client-key.pem",
      "ca_path": "certificates/mqtt-broker/ca-cert.pem"
    },
    "iot-platform": {
      "type": "apikey",
      "description": "IoT platform API access",
      "config_file": "apikeys/iot-platform.json",
      "key_location": "header",
      "key_name": "Authorization",
      "key_prefix": "Bearer "
    },
    "building-mgmt-api": {
      "type": "oauth2",
      "description": "Building management system API",
      "config_file": "oauth2/building-mgmt.json",
      "scopes": ["hvac.read", "hvac.write", "sensors.read"],
      "token_endpoint": "https://auth.buildingmgmt.com/token"
    },
    "sql-warehouse": {
      "type": "connection_string",
      "description": "SQL data warehouse connection",
      "config_file": "sql/fabric-warehouse.json",
      "driver": "ODBC Driver 18 for SQL Server"
    },
    "timeseries-db": {
      "type": "connection_string", 
      "description": "Time series database for sensor data",
      "config_file": "sql/timeseries-db.json",
      "driver": "PostgreSQL Unicode"
    }
  },
  "environments": {
    "production": [
      "weather-api-prod",
      "azure-fabric-prod", 
      "mqtt-production",
      "sql-warehouse"
    ],
    "development": [
      "weather-api-dev",
      "iot-platform",
      "building-mgmt-api",
      "timeseries-db"
    ]
  },
  "metadata": {
    "created": "2025-07-25T00:00:00Z",
    "version": "1.0.0",
    "description": "Authentication profiles for USD Binding Protocol Extension"
  }
}
